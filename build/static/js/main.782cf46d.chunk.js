(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{19:function(e,t,a){e.exports=a(38)},21:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n);a(21);var r=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,41)).then(t=>{let{getCLS:a,getFID:n,getFCP:l,getLCP:r,getTTFB:c}=t;a(e),n(e),l(e),r(e),c(e)})},c=a(14),o=a(6),m=a(40),s=a(4);a(28),a(29);var u=function(e){let{searchQuery:t,setSearchQuery:a,handleSearch:n}=e;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"search-box"},l.a.createElement("div",{className:"search"},l.a.createElement("div",null,l.a.createElement("input",{type:"text",placeholder:"Vyh\u013ead\xe1vaj...",value:t,onChange:e=>a(e.target.value),onKeyDown:e=>{"Enter"===e.key&&n()}}))),l.a.createElement("button",{className:"search-btn",onClick:n},"H\u013eadaj")))},i=a(15),E=a(16);function d(e){let{searchQuery:t,setSearchQuery:a,handleSearch:r,fetchAllPatients:c}=e;const[m,s]=Object(n.useState)(!1);function d(){s(!m)}return l.a.createElement(l.a.Fragment,null,l.a.createElement("nav",null,l.a.createElement("div",{className:"nav-box"},l.a.createElement(u,{searchQuery:t,setSearchQuery:a,handleSearch:r}),l.a.createElement("div",{className:"nav-items ".concat(m?"show":"hide")},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(o.a,{to:"/home",onClick:()=>{d(),c()}},"Domov")),l.a.createElement("li",null,l.a.createElement(o.a,{to:"/add-patient",onClick:d},"Pridaj pacienta")," "),l.a.createElement("li",null,l.a.createElement(o.a,{to:"/"},"Odhl\xe1s sa")," "))),l.a.createElement("div",{className:"hamburger-icon",onClick:d},l.a.createElement(i.a,null)),m&&l.a.createElement("div",{className:"cross-icon",onClick:d},l.a.createElement(E.a,null)))))}a(30);var h=function(){const[e,t]=Object(n.useState)({first_name:"",last_name:"",birth_number:"",drug_name:"",dosage:"",lot_number:"",expiration_date:"",count:""}),[a,r]=Object(n.useState)([]);console.log(a);const c=Object(s.m)();Object(n.useEffect)(()=>{m.a.get("/patients").then(e=>{r(e.data),console.log(e.data)}).catch(e=>{console.error("Error fetching patients:",e)})},[]);const o=a=>{const{name:n,value:l}=a.target;t({...e,[n]:l})};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"background"},l.a.createElement(d,null),l.a.createElement("div",{className:"container"},l.a.createElement("form",{onSubmit:async a=>{a.preventDefault();try{await m.a.post("/patients",e),m.a.get("/patients").then(e=>{r(e.data),console.log(e.data)}).catch(e=>{console.error("Error fetching patients:",e)}),t({first_name:"",last_name:"",birth_number:"",drug_name:"",dosage:"",lot_number:"",expiration_date:"",count:""})}catch(n){console.error("Error creating patient:",n)}c("/home")}},l.a.createElement("label",null,"Meno:",l.a.createElement("input",{type:"text",name:"first_name",value:e.first_name,onChange:o})),l.a.createElement("label",null,"Priezvisko:",l.a.createElement("input",{type:"text",name:"last_name",value:e.last_name,onChange:o})),l.a.createElement("label",null,"Rodn\xe9 \u010d\xedslo:",l.a.createElement("input",{type:"text",name:"birth_number",value:e.birth_number,onChange:o})),l.a.createElement("label",null,"Liek:",l.a.createElement("input",{type:"text",name:"drug_name",value:e.drug_name,onChange:o})),l.a.createElement("label",null,"D\xe1vka:",l.a.createElement("input",{type:"text",name:"dosage",value:e.dosage,onChange:o})),l.a.createElement("label",null,"\u0160ar\u017ea:",l.a.createElement("input",{type:"text",name:"lot_number",value:e.lot_number,onChange:o})),l.a.createElement("label",null,"Exspir\xe1cia:",l.a.createElement("input",{type:"text",name:"expiration_date",value:e.expiration_date,onChange:o})),l.a.createElement("label",null,"Po\u010det ks:",l.a.createElement("input",{type:"text",name:"count",value:e.count,onChange:o})),l.a.createElement("button",{type:"submit"},"Pridaj pacienta")))))},p=(a(35),a(18)),g=a(12);a(36);var b=function(e){let{fetchAllPatients:t,patients:a,setPatients:r,patientId:c,onClose:o}=e;const u=Object(s.m)(),[i,E]=Object(n.useState)({first_name:a.first_name,last_name:a.last_name,birth_number:a.birth_number,drug_name:a.drug_name,dosage:a.dosage,lot_number:a.lot_number,expiration_date:a.expiration_date,count:a.count});Object(n.useEffect)(()=>{m.a.get("/patients").then(e=>{const t=e.data;E(t)}).catch(e=>{console.error("Error fetching patient data:",e)})},[c]);const d=e=>{const{name:t,value:a}=e.target;E({...i,[t]:a})};return l.a.createElement("div",{className:"form-container"},l.a.createElement("h2",null,"Zme\u0148 \xfadaje:"),l.a.createElement("form",{onSubmit:async e=>{e.preventDefault();try{await m.a.put("/patients/".concat(c),i),m.a.get("/patients").then(e=>{r(e.data)}).catch(e=>{console.error("Error fetching patients:",e)}),o()}catch(a){console.error("Error updating patient:",a)}u("/home"),t()}},l.a.createElement("label",null,"Meno:",l.a.createElement("input",{type:"text",name:"first_name",value:i.first_name||"",onChange:d})),l.a.createElement("label",null,"Priezvisko:",l.a.createElement("input",{type:"text",name:"last_name",value:i.last_name,onChange:d})),l.a.createElement("label",null,"Rodn\xe9 \u010d\xedslo:",l.a.createElement("input",{type:"text",name:"birth_number",value:i.birth_number,onChange:d})),l.a.createElement("label",null,"Liek:",l.a.createElement("input",{type:"text",name:"drug_name",value:i.drug_name,onChange:d})),l.a.createElement("label",null,"D\xe1vka:",l.a.createElement("input",{type:"text",name:"dosage",value:i.dosage,onChange:d})),l.a.createElement("label",null,"\u0160ar\u017ea:",l.a.createElement("input",{type:"text",name:"lot_number",value:i.lot_number,onChange:d})),l.a.createElement("label",null,"Exspir\xe1cia:",l.a.createElement("input",{type:"text",name:"expiration_date",value:i.expiration_date,onChange:d})),l.a.createElement("label",null,"Po\u010det ks:",l.a.createElement("input",{type:"text",name:"count",value:i.count,onChange:d})),l.a.createElement("button",{type:"submit"},"Ulo\u017ei\u0165"),l.a.createElement("button",{type:"button",onClick:()=>{o()}},"Sp\xe4\u0165")))},v=a(17);var _=function(e){let{fetchAllPatients:t,searchResultMessage:a,patients:r,setPatients:c,handleDelete:o}=e;const[s,u]=Object(n.useState)(null);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"patient-container"},l.a.createElement("h2",null,"Zoznam pacientov"),l.a.createElement("div",{className:"table-container"},l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"D\xe1tum a \u010das"),l.a.createElement("th",null,"Meno"),l.a.createElement("th",null,"Priezvisko"),l.a.createElement("th",null,"Rodn\xe9 \u010d\xedslo"),l.a.createElement("th",null,"Liek"),l.a.createElement("th",null,"D\xe1vka"),l.a.createElement("th",null,"\u0160ar\u017ea"),l.a.createElement("th",null,"Exspir\xe1cia"),l.a.createElement("th",null,"Po\u010det"),l.a.createElement("th",null,"Upravi\u0165"),l.a.createElement("th",null,"Vymaza\u0165"),l.a.createElement("th",null,"Odp\xedsa\u0165"))),l.a.createElement("tbody",null,r.map(e=>l.a.createElement("tr",{key:e._id,className:e.checked?"highlighted":""},e.date&&l.a.createElement("td",null,e.date.split("T")[0]," ",e.date.slice(11,19)),l.a.createElement("td",null,e.first_name),l.a.createElement("td",null,e.last_name),l.a.createElement("td",null,e.birth_number),l.a.createElement("td",null,e.drug_name),l.a.createElement("td",null,e.dosage),l.a.createElement("td",null,e.lot_number),l.a.createElement("td",null,e.expiration_date),l.a.createElement("td",null,e.count),l.a.createElement("td",null,l.a.createElement(v.a,{smooth:!0,to:"/home#cont"},l.a.createElement("button",{onClick:()=>{return t=e._id,console.log("Editing patient with ID:",t),void u(t);var t}},l.a.createElement(g.c,{className:"icon"})))),l.a.createElement("td",null,l.a.createElement("button",{onClick:()=>o(e._id)},l.a.createElement(p.a,{className:"icon"}))),l.a.createElement("td",null,l.a.createElement("button",{onClick:()=>(async e=>{const t=r.map(t=>(t._id===e&&(t.checked=!t.checked,m.a.put("/patients/".concat(t._id),{checked:t.checked}).then(e=>{}).catch(e=>{console.error("Error toggling patient checked status:",e)})),t));c(t)})(e._id)},e.checked?l.a.createElement(g.a,{className:"icon"}):l.a.createElement(g.b,{className:"icon"}))))))))),a&&l.a.createElement("p",{className:"error"},a),s&&l.a.createElement("div",{className:"container",id:"cont"},l.a.createElement(b,{fetchAllPatients:t,setPatients:c,patients:r,patientId:s,onClose:()=>{u(null)}})))};function f(){const[e,t]=Object(n.useState)([]),[a,r]=Object(n.useState)([]),[c,o]=Object(n.useState)(""),[s,u]=Object(n.useState)("");Object(n.useEffect)(()=>{m.a.get("/patients").then(e=>{const a=e.data;r(a),t(a)}).catch(e=>{console.error("Error fetching patients:",e)})},[]);const i=()=>{m.a.get("/patients").then(e=>{const a=e.data;r(a),t(a)}).catch(e=>{console.error("Error fetching patients:",e)}),u("")},E=()=>{const e=c.toLowerCase(),n=a.filter(t=>Object.values(t).some(t=>!(!t||"string"!==typeof t)&&t.toLowerCase().includes(e)));0===n.length?u("Pacient s dan\xfdmi \xfadajmi neexistuje."):u(""),t(n),o("")};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"background"},e&&l.a.createElement(d,{fetchAllPatients:i,searchQuery:c,setSearchQuery:o,handleSearch:E}),e&&l.a.createElement(_,{fetchAllPatients:i,searchResultMessage:s,setSearchResultMessage:u,searchQuery:c,setSearchQuery:o,handleSearch:E,setPatients:t,patients:e,handleDelete:a=>{m.a.delete("/patients/".concat(a)).then(n=>{console.log(n.data),t(e.filter(e=>e._id!==a))}).catch(e=>{console.error("Error deleting patient:",e)})}}),(new Date).getFullYear()))}a(37);function y(){const e=Object(s.m)(),[t,a]=Object(n.useState)({name:"",password:""}),[r,c]=Object(n.useState)(""),o=e=>{const{name:n,value:l}=e.target;a({...t,[n]:l})};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"login-container"},l.a.createElement("h2",null,"Testovacia str\xe1nka na uk\xe1\u017eku. Pou\u017eit\xe9 \xfadaje nie s\xfa pravdiv\xe9."),l.a.createElement("div",{className:"login-form"},l.a.createElement("form",{onSubmit:a=>{a.preventDefault(),m.a.post("/login",{...t}).then(t=>{console.log(t),"\xdaspe\u0161ne ste sa prihl\xe1sili."===t.data?e("/home"):c(t.data)}).catch(e=>console.log(e))}},l.a.createElement("label",null,"Meno:",l.a.createElement("input",{type:"text",name:"name",value:t.name,onChange:o,required:!0})),l.a.createElement("label",null,"Heslo: ",l.a.createElement("input",{type:"password",name:"password",value:t.password,onChange:o,required:!0})),l.a.createElement("button",null,"Prihl\xe1s sa")),r&&l.a.createElement("div",{className:"message"},r),l.a.createElement("div",{className:"login-details"},l.a.createElement("p",null,"Prihlasovacie \xfadaje:"),l.a.createElement("p",null,"Meno: 'test'"),l.a.createElement("p",null,"Heslo: #test123")))))}const k=Object(o.d)([{path:"/",element:l.a.createElement(y,null)},{path:"/add-patient",element:l.a.createElement(h,null)},{path:"/home",element:l.a.createElement(f,null)}]);Object(c.createRoot)(document.getElementById("root")).render(l.a.createElement(o.c,{router:k})),r()}},[[19,1,2]]]);
//# sourceMappingURL=main.782cf46d.chunk.js.map